{% extends 'base.html' %}

{% block content %}
<h2 style="text-align: center;">
    Welcome{% if user.is_authenticated %}, {{ user.username }}{% endif %}! We sell football-related products.
</h2>

<a href="{% url 'main:create_product' %}" style="text-decoration: none;">
    <button style="display: block; margin: 20px auto; padding: 10px 15px; background-color: #228b22; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold;">
        + Add Product
    </button>
</a>  
<a href="{% url 'main:login' %}" style="text-decoration: none;">
    <button style="display: block; margin: 20px auto; padding: 10px 15px; background-color: #228b22; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold;">
        Logout
    </button>
</a>

<p style="color: #555;">Last login session: {{ last_login }}</p>

<hr>

<a href="?filter=all" style="text-decoration: none; margin-right: 10px;">
    <button style="padding: 8px 12px; background-color: #e0e0e0; border: none; border-radius: 10px; cursor: pointer; font-weight: bold;">
        All Products
    </button>
</a>
<a href="?filter=user" style="text-decoration: none;">
    <button style="padding: 8px 12px; background-color: #e0e0e0; border: none; border-radius: 10px; cursor: pointer; font-weight: bold;">
        My Products
    </button>
</a>
<br /><br />

{% if not product_list %}
<p>Oops, it looks like we haven't added any products yet. Please check back soon!</p>
{% else %}
{% for product in product_list %}
<div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 10px;">
    {% if product.thumbnail %}
    <img src="{{ product.thumbnail }}" alt="{{ product.name }}" style="max-width: 150px; max-height: 150px; object-fit: cover; border-radius: 10px;">        
    <br />
    {% endif %}

    <h3><a href="{% url 'main:show_product' product.id %}" style="text-decoration: none; color: #000000;">{{ product.name }}</a></h3>

    <p style="color: #4c4a4a;"><b>{{ product.get_category_display }}</b> | Brand: {{ product.brand }}
        {% if product.is_featured %} | <b>Featured</b>{% endif %}
    </p>
    
    <p style="font-weight: bold;">${{ product.price }}</p>

    {% if product.stock > 0 %}
    <p style="color: green; font-weight: bold;">Available</p>
    {% else %}
    <p style="color: red; font-weight: bold;">Out of Stock</p>
    {% endif %}  
    <br />  
    <a href="{% url 'main:show_product' product.id %}" style="text-decoration: none; color: #228b22; font-weight: bold;">
        <button style="padding: 8px 12px; background-color: #e0e0e0; border: none; border-radius: 10px; cursor: pointer; font-weight: bold;">
            View Details
        </button>
    </a>
</div>
<br />
{% endfor %}
{% endif %}
{% endblock %}